# bos-3.0 Architecture

> **Auto-generated documentation** — Last updated: 2026-01-03
> 
> This file is automatically generated by `npm run generate:architecture`.
> Do not edit manually; changes will be overwritten.

## Overview

| Metric | Value |
|--------|-------|
| **Version** | 3.0.0 |
| **Source Files** | 246 |
| **Lines of Code** | 55,706 |
| **Pages/Routes** | 22 |
| **API Endpoints** | 6 |
| **Components** | 150 |
| **Custom Hooks** | 11 |

### File Distribution

| Extension | Files | Lines |
|-----------|-------|-------|
| `.tsx` | 181 | 38,744 |
| `.ts` | 62 | 16,044 |
| `.css` | 2 | 848 |
| `.sql` | 1 | 70 |

---

## Directory Structure

```
bos-3.0/
├── app/
│   ├── account/
│   │   ├── layout.tsx
│   │   └── page.tsx
│   ├── api/
│   ├── brain/
│   │   └── page.tsx
│   ├── brand-hub/
│   │   └── page.tsx
│   ├── chats/
│   │   └── page.tsx
│   ├── demo/
│   ├── projects/
│   │   └── page.tsx
│   ├── spaces/
│   │   └── page.tsx
│   ├── globals.css
│   ├── icon.svg
│   ├── layout.tsx
│   ├── page.tsx
│   └── theme.css
├── assets/
│   ├── image-057f03bc-d350-43ad-a9d1-2e6114507e92.png
│   ├── image-0642bb53-cf53-4c2d-881a-f09d079022a7.png
│   ├── image-1d8c6b67-0548-4ac8-93ce-878ff8475421.png
│   ├── image-27a416a6-c399-4d86-9308-0e900e472192.png
│   ├── image-378a6769-89a0-4499-b6b5-fb2e56c52f14.png
│   ├── image-459496b7-13af-49c9-a26b-572a3bd77d1f.png
│   ├── image-58b8334c-056a-4406-ad3a-e4f6b12909cc.png
│   ├── image-5dac5d7f-80bd-4a9d-b59e-070628291383.png
│   ├── image-5ec7fa55-d387-42d9-b9cb-363776627fba.png
│   ├── image-5fc880cc-4159-4598-a792-996c3178cc03.png
│   ├── image-6f99e60f-7dcc-4f4f-9325-f7f57b3bdb5a.png
│   ├── image-70b4ed44-304f-41b1-8111-511d45ac3be4.png
│   ├── image-71a5de87-78b8-428e-bf7a-26e7b71708b1.png
│   ├── image-7dd0317e-0d05-4fd2-be4b-84beab031db2.png
│   ├── image-7e5b0a7e-a831-4795-88de-b8438d8f2dd7.png
│   ├── image-8a9627f0-747c-4cf9-bf64-82668ddb0414.png
│   ├── image-8ccf4e8c-9ca9-43f6-b616-89e91d898ab3.png
│   ├── image-8f676df8-00c3-419b-b59d-b14e6b57e817.png
│   ├── image-a6cde85f-d03d-44d4-b244-162a47bc7657.png
│   ├── image-b0bc26a6-1ff4-4e50-9605-27db3466d1e5.png
│   ├── image-b8295fe4-f439-4b56-8bdb-494d3027a966.png
│   ├── image-b893db79-68c1-49f8-ac42-a97f583c7096.png
│   ├── image-c028b83b-0326-4b27-bb92-6a21120b9cbf.png
│   ├── image-c5608a28-1b53-46fb-83ab-97204131d1f8.png
│   ├── image-cb47f262-2a67-4c6f-901b-763da24eb166.png
│   ├── image-cbe4d9fc-2c25-4e19-ac68-a45ab189d05c.png
│   ├── image-d1a3b817-a3f4-4f8f-882a-a2f1da918f3a.png
│   ├── image-d5701b6f-8030-4cdd-8294-8d693c5c8316.png
│   └── image-f112641f-fb1c-49fc-8bb7-31e72a83dd3c.png
├── components/
│   ├── brain/
│   │   ├── AddBrainResourceModal.tsx
│   │   ├── BrainSettingsModal.tsx
│   │   ├── MarkdownCodeViewer.tsx
│   │   └── TabSelector.tsx
│   ├── brand-hub/
│   │   ├── AddResourceModal.tsx
│   │   ├── BrandHubLayout.tsx
│   │   └── IconPickerModal.tsx
│   ├── chat/
│   │   ├── AddToProjectModal.tsx
│   │   ├── AnswerView.tsx
│   │   ├── ArtifactRenderer.tsx
│   │   ├── AssetCarousel.tsx
│   │   ├── AttachmentPreview.tsx
│   │   ├── BrandResourceCard.tsx
│   │   ├── BrandSourcePopover.tsx
│   │   ├── ChatContent.tsx
│   │   ├── ChatHeader.tsx
│   │   ├── ChatResponse.tsx
│   │   ├── ChatTabNav.tsx
│   │   ├── ChatTitleDropdown.tsx
│   │   ├── DateFilterDropdown.tsx
│   │   ├── FollowUpInput.tsx
│   │   ├── ImagesView.tsx
│   │   ├── index.ts
│   │   ├── InlineCitation.tsx
│   │   ├── InlineStreamingDisplay.tsx
│   │   ├── LinkCard.tsx
│   │   ├── LinksView.tsx
│   │   ├── RelatedQuestions.tsx
│   │   ├── ResponseActions.tsx
│   │   ├── ShareModal.tsx
│   │   ├── ShortcutModal.tsx
│   │   ├── SourcePopover.tsx
│   │   ├── SourcesDrawer.tsx
│   │   ├── ThinkingBubble.tsx
│   │   ├── ThinkingDisplay.tsx
│   │   ├── ToolExecutionCard.tsx
│   │   └── UserMessageBubble.tsx
│   ├── docs/
│   │   ├── ComponentPreview.tsx
│   │   ├── ComponentsDrawer.tsx
│   │   ├── ComponentsList.tsx
│   │   ├── ControlInputs.tsx
│   │   └── index.ts
│   ├── home/
│   │   ├── AnimatedFolder.tsx
│   │   ├── IconHover3D.tsx
│   │   ├── index.ts
│   │   ├── PrePromptGrid.tsx
│   │   └── WelcomeHeader.tsx
│   ├── mobile/
│   │   ├── index.ts
│   │   ├── MobileAccountPanel.tsx
│   │   ├── MobileFullScreenMenu.tsx
│   │   ├── MobileHelpPanel.tsx
│   │   ├── MobileNotificationsPanel.tsx
│   │   └── ThemeSegmentedControl.tsx
│   ├── projects/
│   │   ├── index.ts
│   │   ├── NewProjectModal.tsx
│   │   ├── ProjectCard.tsx
│   │   ├── ProjectChatInput.tsx
│   │   ├── ProjectChatList.tsx
│   │   ├── ProjectFileCard.tsx
│   │   ├── ProjectFileUpload.tsx
│   │   ├── ProjectHeader.tsx
│   │   ├── ProjectInstructionsModal.tsx
│   │   └── ProjectSidebar.tsx
│   ├── settings/
│   │   ├── APIForm.tsx
│   │   ├── AvatarUpload.tsx
│   │   ├── BillingForm.tsx
│   │   ├── EmailForm.tsx
│   │   ├── index.ts
│   │   ├── IntegrationsForm.tsx
│   │   ├── MyDetailsForm.tsx
│   │   ├── NotificationsForm.tsx
│   │   ├── PasswordForm.tsx
│   │   ├── PlanForm.tsx
│   │   ├── ProfileForm.tsx
│   │   ├── RichTextEditor.tsx
│   │   ├── SettingsHeader.tsx
│   │   ├── SettingsSection.tsx
│   │   ├── SettingsTabs.tsx
│   │   └── TeamForm.tsx
│   ├── spaces/
│   │   ├── AddFilesModal.tsx
│   │   ├── AddInstructionsModal.tsx
│   │   ├── AddLinksModal.tsx
│   │   ├── AddTasksModal.tsx
│   │   ├── CreateSpaceModal.tsx
│   │   ├── DeleteConfirmModal.tsx
│   │   ├── index.ts
│   │   ├── SpaceChatInput.tsx
│   │   ├── SpaceReferenceCard.tsx
│   │   └── SpaceResourceCards.tsx
│   ├── ui/
│   │   ├── active-settings-indicators.tsx
│   │   ├── brand-loader-demo.tsx
│   │   ├── brand-loader.tsx
│   │   ├── connector-dropdown.tsx
│   │   ├── data-sources-dropdown.tsx
│   │   ├── dot-flow.tsx
│   │   ├── dot-loader.tsx
│   │   ├── extended-thinking-toggle.tsx
│   │   ├── FlipCard.tsx
│   │   ├── index.ts
│   │   ├── Modal.tsx
│   │   ├── model-selector.tsx
│   │   ├── plus-menu.tsx
│   │   ├── project-selector.tsx
│   │   ├── search-research-toggle.tsx
│   │   └── writing-style-selector.tsx
│   ├── BackgroundGradient.tsx
│   ├── Brandmark.tsx
│   ├── BrandSelector.tsx
│   ├── Breadcrumbs.tsx
│   ├── ChatInterface.tsx
│   ├── DailySplash.tsx
│   ├── HelpDropdown.tsx
│   ├── MainContent.tsx
│   ├── MobileBrandSelector.tsx
│   ├── MobileHeader.tsx
│   ├── NavigationDrawer.tsx
│   ├── NotificationsDropdown.tsx
│   ├── ProfileDropdown.tsx
│   ├── SearchModal.tsx
│   ├── Sidebar.tsx
│   ├── SpaceCard.tsx
│   ├── SpaceHeader.tsx
│   ├── ThemeToggle.tsx
│   ├── TopHeader.tsx
│   ├── TypewriterText.tsx
│   └── VercelAnalytics.tsx
├── hooks/
│   ├── use-resize-observer.ts
│   ├── useAttachments.ts
│   ├── useBrainResources.ts
│   ├── useChat.ts
│   ├── useGlobalSearch.ts
│   ├── useKeyboardShortcuts.ts
│   ├── useResources.ts
│   ├── useSearchSuggestions.ts
│   ├── useSpaceDiscussions.ts
│   ├── useSpaces.ts
│   └── useVoiceRecognition.ts
├── lib/
│   ├── ai/
│   │   ├── auto-router.ts
│   │   └── providers.ts
│   ├── brand-knowledge/
│   │   ├── asset-manifest.ts
│   │   ├── brand-docs.ts
│   │   ├── generate.ts
│   │   ├── index.ts
│   │   ├── page-routes.ts
│   │   ├── system-prompt.ts
│   │   └── types.ts
│   ├── supabase/
│   │   ├── artifact-service.ts
│   │   ├── chat-service.ts
│   │   ├── client.ts
│   │   ├── feedback-service.ts
│   │   ├── file-service.ts
│   │   ├── mcp-service.ts
│   │   ├── projects-service.ts
│   │   ├── server.ts
│   │   ├── settings-service.ts
│   │   ├── tool-service.ts
│   │   └── types.ts
│   ├── api-config.ts
│   ├── breadcrumb-context.tsx
│   ├── chat-context.tsx
│   ├── component-registry.ts
│   ├── mobile-menu-context.tsx
│   ├── mock-data.ts
│   ├── motion.tsx
│   ├── sidebar-context.tsx
│   ├── splash-context.tsx
│   ├── supabase.ts
│   ├── theme-provider.tsx
│   └── utils.ts
├── public/
│   ├── assets/
│   ├── claude-data/
│   │   ├── claude.md
│   │   └── settings.local.json
│   ├── data/
│   ├── fonts/
│   │   ├── NeueHaasDisplayBold.woff2
│   │   ├── NeueHaasDisplayMedium.woff2
│   │   ├── NeueHaasDisplayRoman.woff2
│   │   ├── OffBit-Bold.woff2
│   │   └── OffBit-Regular.woff2
│   └── styles/
│       ├── AI-CONTEXT.md
│       ├── brand.css
│       ├── README.md
│       ├── tailwind.config.ts
│       └── tokens.json
├── scripts/
│   ├── capture-screenshots.ts
│   ├── generate-architecture.ts
│   ├── populate-thumbnails.ts
│   ├── setup-project-storage.ts
│   └── sync-all-assets.sh
├── supabase/
│   └── migrations/
│       ├── 001_chat_history.sql
│       ├── 002_claude_features.sql
│       ├── 003_storage_buckets.sql
│       ├── 004_projects.sql
│       ├── 005_message_feedback.sql
│       ├── 006_project_features.sql
│       └── 006_user_profiles.sql
├── types/
│   ├── d3-force-3d.d.ts
│   └── index.ts
├── utils/
│   ├── cx.ts
│   └── is-react-component.ts
├── ARCHITECTURE.md
├── LICENSE
├── next-env.d.ts
├── next.config.ts
├── package.json
├── postcss.config.mjs
├── PROJECT_SUMMARY.md
├── README.md
├── tailwind.config.ts
├── tsconfig.json
└── tsconfig.tsbuildinfo

```

---

## Pages & Routes

| Route | Path | Layout | Loading | Error |
|-------|------|--------|---------|-------|
| `/` | `app` | ✓ | — | — |
| `/account` | `app/account` | ✓ | — | — |
| `/brain` | `app/brain` | — | — | — |
| `/brain/architecture` | `app/brain/architecture` | — | — | — |
| `/brain/brand-identity` | `app/brain/brand-identity` | — | — | — |
| `/brain/components` | `app/brain/components` | — | — | — |
| `/brain/skills` | `app/brain/skills` | — | — | — |
| `/brain/writing-styles` | `app/brain/writing-styles` | — | — | — |
| `/brand-hub` | `app/brand-hub` | — | — | — |
| `/brand-hub/art-direction` | `app/brand-hub/art-direction` | — | — | — |
| `/brand-hub/colors` | `app/brand-hub/colors` | — | — | — |
| `/brand-hub/design-tokens` | `app/brand-hub/design-tokens` | — | — | — |
| `/brand-hub/fonts` | `app/brand-hub/fonts` | — | — | — |
| `/brand-hub/guidelines` | `app/brand-hub/guidelines` | — | — | — |
| `/brand-hub/logo` | `app/brand-hub/logo` | — | — | — |
| `/chats` | `app/chats` | — | — | — |
| `/demo/loader` | `app/demo/loader` | — | — | — |
| `/projects` | `app/projects` | — | — | — |
| `/projects/:id` | `app/projects/[id]` | — | — | — |
| `/spaces` | `app/spaces` | — | — | — |
| `/spaces/:slug` | `app/spaces/[slug]` | — | — | — |
| `/spaces/:slug/chat/:threadId` | `app/spaces/[slug]/chat/[threadId]` | — | — | — |

---

## API Endpoints

| Endpoint | Methods | File |
|----------|---------|------|
| `/api/chat` | `POST` | `app/api/chat/route.ts` |
| `/api/generate-title` | `POST` | `app/api/generate-title/route.ts` |
| `/api/related-questions` | `POST` | `app/api/related-questions/route.ts` |
| `/api/suggestions` | `GET`, `POST` | `app/api/suggestions/route.ts` |
| `/api/summarize-thinking` | `POST` | `app/api/summarize-thinking/route.ts` |
| `/api/test-env` | `GET` | `app/api/test-env/route.ts` |

---

## Components

### Root Components

| Component | Lines | Description |
|-----------|-------|-------------|
| [`BackgroundGradient`](components/BackgroundGradient.tsx) | 29 | — |
| [`Brandmark`](components/Brandmark.tsx) | 42 | — |
| [`BrandSelector`](components/BrandSelector.tsx) | 534 | — |
| [`Breadcrumbs`](components/Breadcrumbs.tsx) | 270 | — |
| [`ChatInterface`](components/ChatInterface.tsx) | 1260 | — |
| [`DailySplash`](components/DailySplash.tsx) | 110 | — |
| [`HelpDropdown`](components/HelpDropdown.tsx) | 186 | — |
| [`MainContent`](components/MainContent.tsx) | 53 | — |
| [`MobileBrandSelector`](components/MobileBrandSelector.tsx) | 502 | — |
| [`MobileHeader`](components/MobileHeader.tsx) | 123 | — |
| [`NavigationDrawer`](components/NavigationDrawer.tsx) | 665 | — |
| [`NotificationsDropdown`](components/NotificationsDropdown.tsx) | 266 | — |
| [`ProfileDropdown`](components/ProfileDropdown.tsx) | 228 | — |
| [`SearchModal`](components/SearchModal.tsx) | 645 | — |
| [`Sidebar`](components/Sidebar.tsx) | 1390 | — |
| [`SpaceCard`](components/SpaceCard.tsx) | 155 | SpaceCard component - Untitled UI card patterns Uses semantic theme tokens for consistent styling across light/dark modes |
| [`SpaceHeader`](components/SpaceHeader.tsx) | 147 | — |
| [`ThemeToggle`](components/ThemeToggle.tsx) | 98 | — |
| [`TopHeader`](components/TopHeader.tsx) | 220 | — |
| [`TypewriterText`](components/TypewriterText.tsx) | 86 | — |
| [`VercelAnalytics`](components/VercelAnalytics.tsx) | 15 | — |

### brain

| Component | Lines | Description |
|-----------|-------|-------------|
| [`AddBrainResourceModal`](components/brain/AddBrainResourceModal.tsx) | 181 | Icon preview component |
| [`BrainSettingsModal`](components/brain/BrainSettingsModal.tsx) | 312 | — |
| [`MarkdownCodeViewer`](components/brain/MarkdownCodeViewer.tsx) | 148 | — |
| [`TabSelector`](components/brain/TabSelector.tsx) | 43 | — |

### brand-hub

| Component | Lines | Description |
|-----------|-------|-------------|
| [`AddResourceModal`](components/brand-hub/AddResourceModal.tsx) | 229 | Icon preview component |
| [`BrandHubLayout`](components/brand-hub/BrandHubLayout.tsx) | 56 | — |
| [`IconPickerModal`](components/brand-hub/IconPickerModal.tsx) | 158 | — |

### chat

| Component | Lines | Description |
|-----------|-------|-------------|
| [`AddToProjectModal`](components/chat/AddToProjectModal.tsx) | 291 | — |
| [`AnswerView`](components/chat/AnswerView.tsx) | 454 | Renders text with inline markdown formatting (bold, italic) Converts **text** to <strong> and *text* to <em> |
| [`ArtifactRenderer`](components/chat/ArtifactRenderer.tsx) | 369 | ArtifactRenderer Component Renders different types of artifacts with preview, editing, and download capabilities. |
| [`AssetCarousel`](components/chat/AssetCarousel.tsx) | 299 | — |
| [`AttachmentPreview`](components/chat/AttachmentPreview.tsx) | 146 | — |
| [`BrandResourceCard`](components/chat/BrandResourceCard.tsx) | 95 | — |
| [`BrandSourcePopover`](components/chat/BrandSourcePopover.tsx) | 136 | — |
| [`ChatContent`](components/chat/ChatContent.tsx) | 93 | — |
| [`ChatHeader`](components/chat/ChatHeader.tsx) | 131 | — |
| [`ChatResponse`](components/chat/ChatResponse.tsx) | 140 | — |
| [`ChatTabNav`](components/chat/ChatTabNav.tsx) | 77 | — |
| [`ChatTitleDropdown`](components/chat/ChatTitleDropdown.tsx) | 342 | — |
| [`DateFilterDropdown`](components/chat/DateFilterDropdown.tsx) | 335 | — |
| [`FollowUpInput`](components/chat/FollowUpInput.tsx) | 369 | — |
| [`ImagesView`](components/chat/ImagesView.tsx) | 165 | — |
| [`InlineCitation`](components/chat/InlineCitation.tsx) | 134 | — |
| [`InlineStreamingDisplay`](components/chat/InlineStreamingDisplay.tsx) | 166 | — |
| [`LinkCard`](components/chat/LinkCard.tsx) | 675 | Get a better display title for links Handles cases like YouTube where title might be generic |
| [`LinksView`](components/chat/LinksView.tsx) | 268 | — |
| [`RelatedQuestions`](components/chat/RelatedQuestions.tsx) | 280 | Smart local question generation as fallback Analyzes the response content to generate contextually relevant questions |
| [`ResponseActions`](components/chat/ResponseActions.tsx) | 286 | — |
| [`ShareModal`](components/chat/ShareModal.tsx) | 181 | — |
| [`ShortcutModal`](components/chat/ShortcutModal.tsx) | 240 | — |
| [`SourcePopover`](components/chat/SourcePopover.tsx) | 98 | — |
| [`SourcesDrawer`](components/chat/SourcesDrawer.tsx) | 313 | — |
| [`ThinkingBubble`](components/chat/ThinkingBubble.tsx) | 309 | — |
| [`ThinkingDisplay`](components/chat/ThinkingDisplay.tsx) | 204 | ThinkingDisplay Component Displays Claude's extended thinking/reasoning process in a collapsible panel. Shows a streaming animation when Claude is actively thinking. |
| [`ToolExecutionCard`](components/chat/ToolExecutionCard.tsx) | 281 | ToolExecutionCard Component Displays the status and results of a tool execution. Shows tool name, input parameters, output, and timing information. |
| [`UserMessageBubble`](components/chat/UserMessageBubble.tsx) | 91 | UserMessageBubble Component Displays user messages with: - Right alignment - Fill background - 80% max width - "Show more" functionality for long messages with gradient fade |

### docs

| Component | Lines | Description |
|-----------|-------|-------------|
| [`ComponentPreview`](components/docs/ComponentPreview.tsx) | 368 | — |
| [`ComponentsDrawer`](components/docs/ComponentsDrawer.tsx) | 340 | — |
| [`ComponentsList`](components/docs/ComponentsList.tsx) | 487 | — |
| [`ControlInputs`](components/docs/ControlInputs.tsx) | 226 | Main Control Input Component |

### home

| Component | Lines | Description |
|-----------|-------|-------------|
| [`AnimatedFolder`](components/home/AnimatedFolder.tsx) | 151 | — |
| [`IconHover3D`](components/home/IconHover3D.tsx) | 79 | — |
| [`PrePromptGrid`](components/home/PrePromptGrid.tsx) | 356 | — |
| [`WelcomeHeader`](components/home/WelcomeHeader.tsx) | 36 | — |

### mobile

| Component | Lines | Description |
|-----------|-------|-------------|
| [`MobileAccountPanel`](components/mobile/MobileAccountPanel.tsx) | 197 | — |
| [`MobileFullScreenMenu`](components/mobile/MobileFullScreenMenu.tsx) | 266 | — |
| [`MobileHelpPanel`](components/mobile/MobileHelpPanel.tsx) | 154 | — |
| [`MobileNotificationsPanel`](components/mobile/MobileNotificationsPanel.tsx) | 217 | — |
| [`ThemeSegmentedControl`](components/mobile/ThemeSegmentedControl.tsx) | 87 | — |

### projects

| Component | Lines | Description |
|-----------|-------|-------------|
| [`NewProjectModal`](components/projects/NewProjectModal.tsx) | 243 | — |
| [`ProjectCard`](components/projects/ProjectCard.tsx) | 142 | ProjectCard component - Matches SpaceCard styling patterns Uses semantic theme tokens for consistent styling across light/dark modes |
| [`ProjectChatInput`](components/projects/ProjectChatInput.tsx) | 170 | — |
| [`ProjectChatList`](components/projects/ProjectChatList.tsx) | 135 | — |
| [`ProjectFileCard`](components/projects/ProjectFileCard.tsx) | 186 | — |
| [`ProjectFileUpload`](components/projects/ProjectFileUpload.tsx) | 277 | — |
| [`ProjectHeader`](components/projects/ProjectHeader.tsx) | 301 | — |
| [`ProjectInstructionsModal`](components/projects/ProjectInstructionsModal.tsx) | 214 | — |
| [`ProjectSidebar`](components/projects/ProjectSidebar.tsx) | 309 | — |

### settings

| Component | Lines | Description |
|-----------|-------|-------------|
| [`APIForm`](components/settings/APIForm.tsx) | 363 | — |
| [`AvatarUpload`](components/settings/AvatarUpload.tsx) | 155 | — |
| [`BillingForm`](components/settings/BillingForm.tsx) | 505 | — |
| [`EmailForm`](components/settings/EmailForm.tsx) | 486 | — |
| [`IntegrationsForm`](components/settings/IntegrationsForm.tsx) | 277 | — |
| [`MyDetailsForm`](components/settings/MyDetailsForm.tsx) | 217 | — |
| [`NotificationsForm`](components/settings/NotificationsForm.tsx) | 173 | — |
| [`PasswordForm`](components/settings/PasswordForm.tsx) | 436 | — |
| [`PlanForm`](components/settings/PlanForm.tsx) | 294 | — |
| [`ProfileForm`](components/settings/ProfileForm.tsx) | 330 | — |
| [`RichTextEditor`](components/settings/RichTextEditor.tsx) | 196 | — |
| [`SettingsHeader`](components/settings/SettingsHeader.tsx) | 14 | — |
| [`SettingsSection`](components/settings/SettingsSection.tsx) | 192 | — |
| [`SettingsTabs`](components/settings/SettingsTabs.tsx) | 214 | — |
| [`TeamForm`](components/settings/TeamForm.tsx) | 283 | — |

### spaces

| Component | Lines | Description |
|-----------|-------|-------------|
| [`AddFilesModal`](components/spaces/AddFilesModal.tsx) | 300 | — |
| [`AddInstructionsModal`](components/spaces/AddInstructionsModal.tsx) | 132 | — |
| [`AddLinksModal`](components/spaces/AddLinksModal.tsx) | 254 | — |
| [`AddTasksModal`](components/spaces/AddTasksModal.tsx) | 252 | — |
| [`CreateSpaceModal`](components/spaces/CreateSpaceModal.tsx) | 213 | — |
| [`DeleteConfirmModal`](components/spaces/DeleteConfirmModal.tsx) | 35 | — |
| [`SpaceChatInput`](components/spaces/SpaceChatInput.tsx) | 455 | Chat input for space pages - matches the home page style Fixed at bottom of the page like AskFollowUp |
| [`SpaceReferenceCard`](components/spaces/SpaceReferenceCard.tsx) | 143 | Reference card shown at top of space chat responses Links back to the parent space |
| [`SpaceResourceCards`](components/spaces/SpaceResourceCards.tsx) | 293 | — |

### ui

| Component | Lines | Description |
|-----------|-------|-------------|
| [`active-settings-indicators`](components/ui/active-settings-indicators.tsx) | 159 | — |
| [`brand-loader`](components/ui/brand-loader.tsx) | 91 | The size of the loader in pixels. |
| [`brand-loader-demo`](components/ui/brand-loader-demo.tsx) | 90 | — |
| [`connector-dropdown`](components/ui/connector-dropdown.tsx) | 173 | — |
| [`data-sources-dropdown`](components/ui/data-sources-dropdown.tsx) | 216 | — |
| [`dot-flow`](components/ui/dot-flow.tsx) | 343 | — |
| [`dot-loader`](components/ui/dot-loader.tsx) | 89 | — |
| [`extended-thinking-toggle`](components/ui/extended-thinking-toggle.tsx) | 113 | — |
| [`FlipCard`](components/ui/FlipCard.tsx) | 188 | — |
| [`Modal`](components/ui/Modal.tsx) | 166 | Modal component built on React Aria for accessibility Untitled UI design system integration |
| [`model-selector`](components/ui/model-selector.tsx) | 239 | — |
| [`plus-menu`](components/ui/plus-menu.tsx) | 325 | Project indicator button (shown when a project is assigned) |
| [`project-selector`](components/ui/project-selector.tsx) | 164 | — |
| [`search-research-toggle`](components/ui/search-research-toggle.tsx) | 330 | Export suggestions as separate component to render inside container |
| [`writing-style-selector`](components/ui/writing-style-selector.tsx) | 93 | — |

### ui → base → avatar

| Component | Lines | Description |
|-----------|-------|-------------|
| [`avatar`](components/ui/base/avatar/avatar.tsx) | 132 | Display a contrast border around the avatar. |

### ui → base → avatar → base-components

| Component | Lines | Description |
|-----------|-------|-------------|
| [`avatar-add-button`](components/ui/base/avatar/base-components/avatar-add-button.tsx) | 35 | — |
| [`avatar-company-icon`](components/ui/base/avatar/base-components/avatar-company-icon.tsx) | 27 | — |
| [`avatar-online-indicator`](components/ui/base/avatar/base-components/avatar-online-indicator.tsx) | 32 | — |
| [`index`](components/ui/base/avatar/base-components/index.tsx) | 5 | — |
| [`verified-tick`](components/ui/base/avatar/base-components/verified-tick.tsx) | 35 | — |

### ui → base → badges

| Component | Lines | Description |
|-----------|-------|-------------|
| [`badges`](components/ui/base/badges/badges.tsx) | 418 | The label for the button. |

### ui → base → buttons

| Component | Lines | Description |
|-----------|-------|-------------|
| [`button`](components/ui/base/buttons/button.tsx) | 267 | Common props shared between button and anchor variants |

### ui → base → input

| Component | Lines | Description |
|-----------|-------|-------------|
| [`hint-text`](components/ui/base/input/hint-text.tsx) | 34 | — |
| [`input`](components/ui/base/input/input.tsx) | 272 | Input size. |
| [`input-group`](components/ui/base/input/input-group.tsx) | 134 | — |
| [`input-payment`](components/ui/base/input/input-payment.tsx) | 124 | Detect the card type based on the card number. |
| [`label`](components/ui/base/input/label.tsx) | 51 | — |

### ui → base → select

| Component | Lines | Description |
|-----------|-------|-------------|
| [`combobox`](components/ui/base/select/combobox.tsx) | 153 | — |
| [`multi-select`](components/ui/base/select/multi-select.tsx) | 364 | — |
| [`popover`](components/ui/base/select/popover.tsx) | 35 | — |
| [`select`](components/ui/base/select/select.tsx) | 147 | — |
| [`select-item`](components/ui/base/select/select-item.tsx) | 98 | — |
| [`select-native`](components/ui/base/select/select-native.tsx) | 70 | — |

### ui → base → tags → base-components

| Component | Lines | Description |
|-----------|-------|-------------|
| [`tag-close-x`](components/ui/base/tags/base-components/tag-close-x.tsx) | 35 | — |

### ui → base → textarea

| Component | Lines | Description |
|-----------|-------|-------------|
| [`textarea`](components/ui/base/textarea/textarea.tsx) | 112 | — |

### ui → base → tooltip

| Component | Lines | Description |
|-----------|-------|-------------|
| [`tooltip`](components/ui/base/tooltip/tooltip.tsx) | 110 | The title of the tooltip. |

### ui → foundations

| Component | Lines | Description |
|-----------|-------|-------------|
| [`dot-icon`](components/ui/foundations/dot-icon.tsx) | 25 | — |

### ui → foundations → payment-icons

| Component | Lines | Description |
|-----------|-------|-------------|
| [`amex-icon`](components/ui/foundations/payment-icons/amex-icon.tsx) | 20 | — |
| [`apple-pay-icon`](components/ui/foundations/payment-icons/apple-pay-icon.tsx) | 28 | — |
| [`discover-icon`](components/ui/foundations/payment-icons/discover-icon.tsx) | 35 | — |
| [`index`](components/ui/foundations/payment-icons/index.tsx) | 11 | — |
| [`mastercard-icon`](components/ui/foundations/payment-icons/mastercard-icon.tsx) | 40 | — |
| [`paypal-icon`](components/ui/foundations/payment-icons/paypal-icon.tsx) | 46 | — |
| [`stripe-icon`](components/ui/foundations/payment-icons/stripe-icon.tsx) | 28 | — |
| [`union-pay-icon`](components/ui/foundations/payment-icons/union-pay-icon.tsx) | 38 | — |
| [`visa-icon`](components/ui/foundations/payment-icons/visa-icon.tsx) | 28 | — |

---

## Custom Hooks

| Hook | Lines | Description |
|------|-------|-------------|
| [`use-resize-observer`](hooks/use-resize-observer.ts) | 61 | Hook to observe element resize using ResizeObserver Used by UUI Combobox and MultiSelect components |
| [`useAttachments`](hooks/useAttachments.ts) | 423 | Determine attachment type from MIME type or file extension |
| [`useBrainResources`](hooks/useBrainResources.ts) | 114 | — |
| [`useChat`](hooks/useChat.ts) | 380 | — |
| [`useGlobalSearch`](hooks/useGlobalSearch.ts) | 469 | — |
| [`useKeyboardShortcuts`](hooks/useKeyboardShortcuts.ts) | 46 | — |
| [`useResources`](hooks/useResources.ts) | 100 | — |
| [`useSearchSuggestions`](hooks/useSearchSuggestions.ts) | 148 | Hook for fetching fast search suggestions Uses DuckDuckGo autocomplete for real-time suggestions |
| [`useSpaceDiscussions`](hooks/useSpaceDiscussions.ts) | 430 | Hook for managing space discussions with Supabase Falls back to localStorage if Supabase is not configured |
| [`useSpaces`](hooks/useSpaces.ts) | 236 | — |
| [`useVoiceRecognition`](hooks/useVoiceRecognition.ts) | 154 | — |

---

## Key Dependencies

| Package | Version | Purpose |
|---------|---------|---------|
| `@anthropic-ai/sdk` | `^0.71.2` | — |
| `@gsap/react` | `^2.1.2` | — |
| `@perplexity-ai/perplexity_ai` | `github:perplexityai/perplexity-node` | — |
| `@react-stately/utils` | `^3.10.8` | — |
| `@supabase/ssr` | `^0.8.0` | — |
| `@supabase/supabase-js` | `^2.86.0` | — |
| `@untitledui/icons` | `^0.0.19` | — |
| `@vercel/analytics` | `^1.5.0` | — |
| `@vercel/speed-insights` | `^1.2.0` | — |
| `clsx` | `^2.1.1` | — |
| `dotenv` | `^17.2.3` | — |
| `framer-motion` | `^11.15.0` | — |
| `gsap` | `^3.13.0` | — |
| `jszip` | `^3.10.1` | — |
| `lucide-react` | `^0.468.0` | — |
| `next` | `^16.1.1` | — |
| `next-themes` | `^0.4.4` | — |
| `open-graph-scraper` | `^6.11.0` | — |
| `react` | `19.2.1` | — |
| `react-aria` | `^3.44.0` | — |

---

## Scripts

| Command | Description |
|---------|-------------|
| `npm run dev` | `pkill -f 'next-server' 2>/dev/null; pkill -f 'next dev' 2>/dev/null; next dev -H 127.0.0.1` |
| `npm run build` | `next build` |
| `npm run start` | `next start` |
| `npm run lint` | `next lint` |
| `npm run generate:brand-index` | `npx tsx lib/brand-knowledge/generate.ts` |
| `npm run generate:architecture` | `npx tsx scripts/generate-architecture.ts` |
| `npm run fetch-thumbnails` | `npx tsx scripts/populate-thumbnails.ts` |
| `npm run capture-screenshots` | `npx tsx scripts/capture-screenshots.ts` |
| `npm run prebuild` | `npm run generate:brand-index` |
| `npm run prepare` | `[ -d .git ] && git config core.hooksPath .githooks || true` |

---

## Tech Stack

- **Framework**: Next.js ^16.1.1 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **UI Library**: React Aria Components
- **State Management**: Zustand
- **Database**: Supabase
- **Animations**: Framer Motion, GSAP

---

<sub>Generated by `scripts/generate-architecture.ts` on 2026-01-03T00:04:43.635Z</sub>
